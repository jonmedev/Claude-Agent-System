{
  "_schema_version": "1.0.0",
  "_description": "Pattern definitions for auto-detection and workflow suggestions",
  "_notes": [
    "This file configures the pattern-detector middleware",
    "Patterns are matched against user requests and loaded files",
    "Each pattern can suggest a workflow and enable features",
    "Confidence is calculated based on keyword matches and file patterns"
  ],

  "authentication": {
    "keywords": [
      "auth",
      "login",
      "logout",
      "session",
      "jwt",
      "token",
      "oauth",
      "sso",
      "permission",
      "role",
      "rbac",
      "unauthorized",
      "forbidden",
      "credentials",
      "password",
      "signin",
      "signup"
    ],
    "file_patterns": [
      "**/auth/**",
      "**/middleware/auth*",
      "**/guards/**",
      "**/strategies/**",
      "**/authentication/**"
    ],
    "suggested_workflow": "complete_system",
    "security_scan": true,
    "hint": "ðŸ”’ Authentication task detected - using comprehensive workflow with security validation",
    "priority": "high"
  },

  "database": {
    "keywords": [
      "database",
      "db",
      "sql",
      "postgres",
      "postgresql",
      "mysql",
      "mongo",
      "mongodb",
      "migration",
      "schema",
      "query",
      "orm",
      "prisma",
      "sequelize",
      "typeorm",
      "knex",
      "table",
      "model"
    ],
    "file_patterns": [
      "**/models/**",
      "**/schema/**",
      "**/migrations/**",
      "**/db/**",
      "**/database/**",
      "**/prisma/**"
    ],
    "suggested_workflow": "complete_system",
    "security_scan": false,
    "hint": "ðŸ’¾ Database task detected - using comprehensive workflow for data integrity",
    "priority": "high"
  },

  "api": {
    "keywords": [
      "api",
      "endpoint",
      "route",
      "controller",
      "rest",
      "restful",
      "graphql",
      "request",
      "response",
      "http",
      "get",
      "post",
      "put",
      "delete",
      "patch"
    ],
    "file_patterns": [
      "**/routes/**",
      "**/api/**",
      "**/controllers/**",
      "**/endpoints/**",
      "**/handlers/**"
    ],
    "suggested_workflow": "complete_system",
    "security_scan": false,
    "hint": "ðŸŒ API development detected - using comprehensive workflow",
    "priority": "medium"
  },

  "frontend": {
    "keywords": [
      "component",
      "ui",
      "page",
      "view",
      "layout",
      "styling",
      "css",
      "scss",
      "tailwind",
      "react",
      "vue",
      "angular",
      "svelte",
      "button",
      "form",
      "modal",
      "navbar"
    ],
    "file_patterns": [
      "**/components/**",
      "**/*.tsx",
      "**/*.jsx",
      "**/*.vue",
      "**/pages/**",
      "**/views/**",
      "**/ui/**"
    ],
    "suggested_workflow": "orchestrated",
    "security_scan": false,
    "hint": "ðŸŽ¨ Frontend task detected - using streamlined workflow",
    "priority": "medium"
  },

  "testing": {
    "keywords": [
      "test",
      "testing",
      "spec",
      "jest",
      "mocha",
      "pytest",
      "vitest",
      "unit test",
      "integration test",
      "e2e",
      "end-to-end",
      "coverage",
      "mock"
    ],
    "file_patterns": [
      "**/*.test.*",
      "**/*.spec.*",
      "**/tests/**",
      "**/__tests__/**",
      "**/test/**"
    ],
    "suggested_workflow": "orchestrated",
    "security_scan": false,
    "hint": "ðŸ§ª Testing task detected - using streamlined workflow",
    "priority": "low"
  },

  "bugfix": {
    "keywords": [
      "fix",
      "bug",
      "error",
      "issue",
      "broken",
      "not working",
      "fails",
      "failure",
      "crash",
      "problem",
      "incorrect",
      "wrong"
    ],
    "file_patterns": [],
    "suggested_workflow": "orchestrated",
    "security_scan": false,
    "hint": "ðŸ› Bug fix detected - using quick resolution workflow",
    "priority": "medium"
  },

  "refactoring": {
    "keywords": [
      "refactor",
      "cleanup",
      "clean up",
      "improve",
      "optimize",
      "reorganize",
      "restructure",
      "rewrite",
      "simplify",
      "modernize"
    ],
    "file_patterns": [],
    "suggested_workflow": "complete_system",
    "security_scan": false,
    "hint": "â™»ï¸ Refactoring task detected - using comprehensive workflow for safety",
    "priority": "medium"
  },

  "security": {
    "keywords": [
      "security",
      "vulnerability",
      "xss",
      "csrf",
      "injection",
      "sql injection",
      "sanitize",
      "validate",
      "validation",
      "encrypt",
      "encryption",
      "decrypt",
      "secure",
      "attack",
      "exploit"
    ],
    "file_patterns": [
      "**/security/**",
      "**/validators/**",
      "**/validation/**"
    ],
    "suggested_workflow": "complete_system",
    "security_scan": true,
    "hint": "ðŸ”’ Security task detected - enabling security scanning and comprehensive review",
    "priority": "critical"
  },

  "configuration": {
    "keywords": [
      "config",
      "configuration",
      "setup",
      "install",
      "environment",
      "env",
      "settings",
      "initialize",
      "configure"
    ],
    "file_patterns": [
      "**/.env*",
      "**/config/**",
      "**/*.config.*",
      "**/settings/**"
    ],
    "suggested_workflow": "orchestrated",
    "security_scan": false,
    "hint": "âš™ï¸ Configuration task detected - using streamlined workflow",
    "priority": "low"
  },

  "documentation": {
    "keywords": [
      "docs",
      "documentation",
      "readme",
      "guide",
      "tutorial",
      "document",
      "comment",
      "explain"
    ],
    "file_patterns": [
      "**/docs/**",
      "**/*.md",
      "**/documentation/**"
    ],
    "suggested_workflow": "orchestrated",
    "security_scan": false,
    "hint": "ðŸ“ Documentation task detected - using streamlined workflow",
    "priority": "low"
  },

  "performance": {
    "keywords": [
      "performance",
      "slow",
      "fast",
      "speed",
      "optimize",
      "optimization",
      "cache",
      "caching",
      "lazy load",
      "memory",
      "cpu"
    ],
    "file_patterns": [],
    "suggested_workflow": "complete_system",
    "security_scan": false,
    "hint": "âš¡ Performance optimization detected - using comprehensive workflow",
    "priority": "medium"
  },

  "deployment": {
    "keywords": [
      "deploy",
      "deployment",
      "production",
      "ci/cd",
      "pipeline",
      "docker",
      "kubernetes",
      "k8s",
      "build",
      "release"
    ],
    "file_patterns": [
      "**/.github/workflows/**",
      "**/.gitlab-ci.yml",
      "**/Dockerfile",
      "**/docker-compose.yml",
      "**/k8s/**"
    ],
    "suggested_workflow": "complete_system",
    "security_scan": false,
    "hint": "ðŸš€ Deployment task detected - using comprehensive workflow",
    "priority": "high"
  },

  "state-management": {
    "keywords": [
      "state",
      "redux",
      "zustand",
      "recoil",
      "context",
      "store",
      "global state",
      "state management"
    ],
    "file_patterns": [
      "**/store/**",
      "**/redux/**",
      "**/state/**",
      "**/context/**"
    ],
    "suggested_workflow": "complete_system",
    "security_scan": false,
    "hint": "ðŸ”„ State management task detected - using comprehensive workflow",
    "priority": "medium"
  },

  "error-handling": {
    "keywords": [
      "error handling",
      "exception",
      "try catch",
      "error boundary",
      "fallback",
      "recovery"
    ],
    "file_patterns": [
      "**/errors/**",
      "**/exceptions/**"
    ],
    "suggested_workflow": "orchestrated",
    "security_scan": false,
    "hint": "ðŸ›¡ï¸ Error handling task detected - using streamlined workflow",
    "priority": "medium"
  },

  "_workflow_mappings": {
    "orchestrated": {
      "description": "3-agent streamlined workflow",
      "use_for": ["simple tasks", "bug fixes", "styling", "configuration"],
      "agents": 3,
      "duration_estimate": "5-10 minutes"
    },
    "complete_system": {
      "description": "6-agent comprehensive workflow",
      "use_for": ["complex features", "security", "architecture changes", "refactoring"],
      "agents": 6,
      "duration_estimate": "30-60 minutes"
    },
    "topus": {
      "description": "Topus v3.0 â€” Intelligent parallel orchestration with dual-mode (PLAN/EXECUTE), domain-expert agents, graph exploration, knowledge bus, confidence scoring, wave-based execution, and adaptive scaling",
      "modes": ["plan", "execute"],
      "use_for": ["large codebases", "migrations", "system-wide changes", "architecture analysis", "deep planning", "complex implementations"],
      "plan_mode_triggers": ["analyze", "investigate", "explore", "audit", "assess", "how should we", "what's the best approach", "architecture review"],
      "execute_mode_triggers": ["implement", "create", "build", "fix", "refactor", "migrate", "deploy", "remove", "replace", "upgrade", "update", "modify"],
      "trigger": "context_size > 30000 tokens OR deep_planning_detected OR architecture_analysis",
      "duration_estimate": "15-120 minutes (tier-dependent)",
      "features": ["dual-mode", "DSVP", "signal-bus", "CIA", "CPE", "confidence-scoring", "wave-execution", "3-level-planning"],
      "flags": {
        "--plan": "Force PLAN mode (analysis only, no code changes)",
        "--exec": "Force EXECUTE mode (full implementation pipeline)"
      }
    },
    "aidevtasks": {
      "description": "PRD-based feature development",
      "use_for": ["new features", "detailed requirements"],
      "trigger": "feature development keywords",
      "duration_estimate": "varies"
    }
  },

  "_priority_levels": {
    "critical": "Always follow pattern suggestion (security-critical)",
    "high": "Strong preference for pattern suggestion",
    "medium": "Use as hint for decision engine",
    "low": "Informational only"
  }
}
